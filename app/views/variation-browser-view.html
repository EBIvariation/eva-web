<div ng-controller="evaMainCtrl">

<div class="col-sm-4 col-md-3 col-lg-3">
    <div  id="">
        <div class="panel panel-ebi-primary">
            <div class="panel-heading">
                <div  href="#collapseFilter" style="cursor: pointer">
                    <h6><strong>Filters</strong></h6>
                </div>
            </div>
            <div id="collapseFilter" class="panel-collapse">
                <div class="panel-body">
                    <div class="btn-toolbar" role="toolbar">
                        <div class="btn-group">
                            <button type="button" class="btn btn-default btn-xs" ng-click=reloadVariants() >
                                <span class="glyphicon glyphicon-repeat"></span> Reload
                            </button>
                            <button type="button" class="btn btn-default btn-xs" ng-click="clearVariants()">
                                Clear
                            </button>
                        </div>
                        <div class="btn-group">
                            <button type="button" class="btn btn-default btn-xs" ng-click=searchVariants()>
                                <span class="glyphicon glyphicon-search"></span> Search
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel panel-ebi-secondary">
            <div class="panel-heading">
                <div  class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseLocation" style="cursor: pointer" >
                    Filter By
                </div>
            </div>
            <div id="collapseLocation" class="panel-collapse collapse in">
                <div class="panel-body">
                    SNP id: <textarea type="text" ng-model="snpId" rows="2" class="form-control"></textarea>
                    Region: <textarea type="text" ng-model="location" rows="2" class="form-control"></textarea>
                    Gene: <textarea type="text" ng-model="gene" rows="2" class="form-control"></textarea>
                </div>
            </div>
        </div>


        <div class="panel panel-ebi-secondary">
            <div class="panel-heading">
                <div  class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseStudy" style="cursor: pointer" >
                    Study
                </div>
            </div>
            <div id="collapseStudy" class="panel-collapse collapse in">
                <div class="panel-body">
                    <div id={{studiesTreeId}}></div>
                    <div id='test'></div>
                </div>
            </div>
        </div>


        <div class="panel panel-ebi-secondary">
            <div class="panel-heading">
                <div  class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseConsequenceType" style="cursor: pointer" >
                    Consequence Type
                </div>
            </div>
            <div id="collapseConsequenceType" class="panel-collapse collapse in">
                <div class="panel-body">
                    <div id={{consequenceTypeTreeId}}></div>
                </div>
            </div>
        </div>


        <div class="panel panel-ebi-secondary">
            <div class="panel-heading">
                <div class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseVariationClass" style="cursor: pointer" >
                    Variation classes
                </div>
            </div>
            <div id="collapseVariationClass" class="panel-collapse collapse in">
                <div class="panel-body">
                    <div id={{variationClassesTreeId}}></div>
                </div>
            </div>
        </div>

    </div>
</div>

<div  class="col-sm-8 col-md-9 col-lg-9">

    <div class="tab-content">

        <div class="tab-pane active" id="vBrowser">

            <div>
                <div>
                    <h3>Summary&nbsp;<button id="summaryChart"  title="Gene Ranking data"  data-placement='right' type="button" ng-click="showStatitsics()" class="btn  btn-default btn-xs"><span class={{statisticsClass}} style="color: #426783"></span></button></h3>
                    <highchart ng-show="showStatitsicsState" id="chart1" config="summaryPieChartConfig" style="width: 350px; height: 300px;" ></highchart>
                </div>
            </div>

            <div class="variantTable">
                <h3>Variant Browser</h3>
                <div id={{variantTableId}}></div><br/>
                <h3>Variant Data</h3>
                <ul id={{variantBrowserSubTabsId}} class="variantBrowserTabs nav nav-tabs nav-pills">
                    <li id="{{variantFilesTableId}}Li" class="active"><a href="#vFiles" data-toggle="tab"><span class="glyphicon glyphicon-file"></span> Variant Files & Stats</a></li>
                    <li id="{{variantEffectTableId}}Li" ><a href="#vEffect" data-toggle="tab"><span class="glyphicon glyphicon-th"></span> Variant Effects</a></li>
                    <li id="{{variantGenoTypeTableId}}Li"><a href="#vGenotypes" data-toggle="tab"><span class="glyphicon glyphicon-list-alt"></span> Variant Genotypes</a></li>
                    <li id="{{variantGenomeViewerId}}Li"><a href="#genomeViewer" data-toggle="tab"><span class="glyphicon glyphicon-th-large"></span>  Genome Browser</a></li>
                </ul>

                <div class="tab-content">

                    <div class="tab-pane fade active in" id="vFiles">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="table-responsive" >
                                    <div ng-repeat="(key,value) in  filesData">
                                        <h5><span style="text-transform: capitalize;" class="label label-danger">{{value.id}} study</span>&nbsp;&nbsp;<small><button type="button" ng-click="toggleShow()" class="btn  btn-default btn-xs">{{toggleLabel}}</button></small></h5>
                                        <div ng-show="toggleState">
                                            <div class="row"  ng-repeat="(key,value) in  value.data">
                                                <div class="col-md-8">
                                                    <div><h5>File</h5></div>
                                                    <table class="table table-striped">
                                                        <tr>
                                                            <th>QUAL</th>
                                                            <th>FILTER</th>
                                                            <th>ERATE</th>
                                                            <th>AN</th>
                                                            <th>AA</th>
                                                            <th>AC</th>
                                                            <th>SNPSOURCE</th>
                                                            <th>AF</th>
                                                        </tr>
                                                        <tr>
                                                            <td>{{value.attributes.QUAL}}</td>
                                                            <td>{{value.attributes.FILTER}}</td>
                                                            <td>{{value.attributes.ERATE}}</td>
                                                            <td>{{value.attributes.AN}}</td>
                                                            <td>{{value.attributes.AA}}</td>
                                                            <td>{{value.attributes.AC}}</td>
                                                            <td>{{value.attributes.SNPSOURCE}}</td>
                                                            <td>{{value.attributes.AF}}</td>
                                                        </tr>
                                                    </table>
                                                    <div>
                                                        <h5>Stats</h5>
                                                        <table class="table table-borderless">
                                                            <tr><td>MAF</td> <td>{{value.stats.maf|number:4}} ({{value.stats.alleleMaf}})</td></tr>
                                                            <tr><td>MendelErr</td> <td>{{value.stats.mendelErr}}</td></tr>
                                                            <tr><td>MGF</td> <td>{{value.stats.mgf|number:4}} ({{value.stats.genotypeMaf}})</td></tr>
                                                            <tr><td>MissAllele</td> <td>{{value.stats.missAllele}}</td></tr>
                                                            <tr><td>MissGenotypes</td> <td>{{value.stats.missGenotypes}}</td></tr>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="col-md-4" ng-repeat="(key,value) in  value.chartData">
                                                    <h5 style="margin-left:70px;">Genotype Count</h5>
                                                    <div  style="height: 300px; width: 300px;"id={{value.$$hashKey}}></div>
                                                    <div ng-show="statsPieChart(value,value.$$hashKey)"></div>
                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="tab-pane fade " id="vEffect">
                        <h4>Effects</h4>
                       <div id={{variantEffectTableId}}></div>
                    </div>
                    <div class="tab-pane fade " id="vGenotypes">
                        <h4>Genotypes</h4>
                        <div id={{variantGenoTypeTableId}}></div>
                        <div id="grid-example"></div>
                    </div>

                    <div class="tab-pane fade"  id="genomeViewer">
                        <div id={{variantGenomeViewerId}} style="width:980px"></div>
                    </div>

                </div>

            </div>

        </div>
    </div>

</div>
</div>