<template>
    <style scoped>
        @import url('//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css');
        .borderless tbody tr td, .borderless thead tr th {
            border: none;
        }
        #resultShow{
            color: #426783;
        }
        .valid{
            color:#25AC0F;
        }
        .invalid{
            color:#CB4437;
        }

        h2,h4{
            color:#426783;
        }
        h3,h5 {
            color:#BF8230;
        }

    </style>
    <div class="row">
        <div class="col-md-5">
            <div id="resultShow"></div><br />
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <form id="submission-form">
                <h4>User Details</h4>
                <div class="row">
                    <div class="col-md-2 form-group"><h6>Full Name </h6></div>
                    <div class="col-md-4 form-group input-group-sm"><input class="form-control" id="name"   type="text" required/></div>
                </div>
                <div class="row">
                    <div class="col-md-2 form-group"><h6>Email</h6></div>
                    <div class="col-md-4 form-group input-group-sm"><input class="form-control" id="email"   type="email" required/></div>
                </div>
                <div class="row">
                    <div class="col-md-2 form-group"><h6>Institution/Company Name   <span class="required"></span></h6></div>
                    <div class="col-md-4 form-group input-group-sm"><input class="form-control" id="companyName"   type="text" /></div>
                </div>
                <div class="row">
                    <div class="col-md-2 form-group"><h6> Webpage </h6></div>
                    <div class="col-md-4 form-group input-group-sm"><input class="form-control" id="webpage"   type="text"/></div>
                </div>
                <div class="row">
                    <div class="col-md-2 form-group"><h6> Country of Origin </h6></div>
                    <div class="col-md-4 form-group input-group-sm"><input class="form-control" id="country"   type="text" required/></div>
                </div>
                <h4>Type of Submission </h4>
                <div class="row">
                    <div class="col-md-2 form-group"><h6> Genomic DNA</h6></div>
                    <div class="col-md-4 form-group input-group-sm"><input type="checkbox" name="submissionType" value="Genomic DNA"></div>
                </div>
                <div class="row">
                    <div class="col-md-2 form-group"><h6> Exonic DNA</h6></div>
                    <div class="col-md-4 form-group input-group-sm"><input type="checkbox" name="submissionType" value="Exonic DNA"></div>
                </div>
                <div class="row">
                    <div class="col-md-2 form-group"><h6> Transcribed RNA</h6></div>
                    <div class="col-md-4 form-group input-group-sm"><input type="checkbox" name="submissionType" value="Transcribed RNA"></div>
                </div>
                <div class="row">
                    <div class="col-md-2 form-group"><h6> Clinical</h6></div>
                    <div class="col-md-4 form-group input-group-sm"><input type="checkbox" name="submissionType" value="Clinical"></div>
                </div>
                <div class="row">
                    <div class="col-md-2 form-group"><h6> Unknown</h6></div>
                    <div class="col-md-4 form-group input-group-sm"><input type="checkbox" name="submissionType" value="Unknown"></div>
                </div>
                <div class="row">
                    <div class="col-md-2 form-group"><h6> Other</h6></div>
                    <div class="col-md-4 form-group input-group-sm"><input type="checkbox" name="submissionType" value="Other"></div>
                </div>
                <div class="row">
                    <div class="col-md-2 form-group"><h6>Preferred Centre Acronym (subject to availability)</h6></div>
                    <div class="col-md-4 form-group input-group-sm"><input class="form-control" id="acronym"  type="text"/></div>
                </div>
                <div class="row">
                    <div class="col-md-8 form-group"><p><h6>Comments</h6></p><textarea id="comments" class="form-control" rows="3"></textarea></div>
                </div>
                <div class="row">
                    <div class="col-md-4 form-group"><button class="btn btn-primary" type="submit">Submit</button></div>
                </div>
            </form>
        </div>
    </div>

</template>

<script>
    // This document reference
    var evaSubmissionForm = document._currentScript.ownerDocument;

    var submissionForm = document.registerElement('eva-submission-form', {
        prototype: Object.create(HTMLElement.prototype, {
            /*
             * Lifecycle callback methods
             */
            createdCallback: {
                value: function () {
                    var _this = this;

                    //Create a copy of the template node.
                    var template = document.importNode(evaSubmissionForm.querySelector('template').content, true);
                    _this.createShadowRoot().appendChild(template);

                }
            },
            attributeChangedCallback:{
                value: function (attrName, oldValue, newValue) {
                    var _this = this;
                }
            },
            attachedCallback: {
                value: function () {
                    var _this = this;
                    _this.submissionForm = _this.shadowRoot.querySelector('#submission-form');
                    _this.sumissionTypeEl =  _this.shadowRoot.querySelector('#allele');




                    _this.submissionForm.addEventListener('submit', function(eve) {
                        eve.preventDefault();
                        _this.name =  _this.shadowRoot.querySelector('#name');
                        _this.email =  _this.shadowRoot.querySelector('#email');
                        _this.companyName =  _this.shadowRoot.querySelector('#companyName');
                        _this.webpage =  _this.shadowRoot.querySelector('#webpage');
                        _this.country =  _this.shadowRoot.querySelector('#country');
                        _this.acronym =  _this.shadowRoot.querySelector('#acronym');
                        _this.comments =  _this.shadowRoot.querySelector('#comments');
                        _this.submissionType =  _this.shadowRoot.querySelectorAll('input[name=submissionType]:checked');
                        var submissionType = ''
                        for(var i = 0; i < _this.submissionType.length; i++){
                            submissionType += _this.submissionType[i].value + ",";
                        }
                        console.log(_this.name.value)
                        console.log(_this.email.value)
                        console.log(_this.companyName.value)
                        console.log(_this.webpage.value)
                        console.log(_this.country.value)
                        console.log(_this.acronym.value)
                        console.log(_this.comments.value)
                        console.log(submissionType)

                        _this.showResultDiv =  _this.shadowRoot.querySelector("#resultShow");
                        var resultElDiv =  document.createElement("div");
                        resultElDiv.innerHTML = 'Your details has been submitted';
                        _this.showResultDiv.appendChild(resultElDiv);



                    }, true);

                }
            }

        })
    });




</script>